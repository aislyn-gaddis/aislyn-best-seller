"0","start_date <- as.Date(""2020-12-13"")"
"0","end_date <- as.Date(""2024-05-12"")"
"0",""
"0","dates <- seq(start_date, end_date, by = ""week"")"
"0",""
"0","dfs <- map_dfr(dates, function(date) {"
"0","  url <- sprintf(""https://www.nytimes.com/books/best-sellers/%s/hardcover-fiction/"", format(date, ""%Y/%m/%d""))"
"0","  "
"0","  page <- read_html(url)"
"0","  "
"0","  titles <- page %>%"
"0","    html_nodes("".css-5pe77f"") %>%"
"0","    html_text()"
"0","  "
"0","  authors <- page %>%"
"0","    html_nodes("".css-hjukut"") %>%"
"0","    html_text()"
"0","  "
"0","  ranks <- seq_along(titles)"
"0","  "
"0","  data.frame(title = titles, author = authors, rank = ranks, date = date)"
"0","})"
"0",""
"0","dfs |> write_rds(""data-raw/bestsellers-web-scrape.rds"")"
"0",""
